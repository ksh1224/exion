# Migration `20200918011908-exion`

This migration has been generated by 권수현 at 9/18/2020, 10:19:08 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `exion`.`Bookmark` DROP PRIMARY KEY,
ADD COLUMN `createdAt` datetime(3)  DEFAULT CURRENT_TIMESTAMP(3),
ADD PRIMARY KEY (`userId`, `shootingId`)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200916070010-exion..20200918011908-exion
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model Profile {
   id                Int                 @default(autoincrement()) @id
@@ -32,9 +32,11 @@
   createdAt         DateTime?           @default(now())
   updatedAt         DateTime?           @default(now()) @updatedAt
   deletedAt         DateTime?
   lastSignedIn      DateTime?
+
   profile           Profile?
+  bookmark          Bookmark[]
 }
 model Shooting {
   id                Int                 @default(autoincrement()) @id   
@@ -54,8 +56,10 @@
   isDyeing          Boolean? 
   createdAt         DateTime?           @default(now())
   updatedAt         DateTime?           @default(now()) @updatedAt
   deletedAt         DateTime?
+
+  bookmark          Bookmark[]
 }
 model Schedule {
   id                Int                 @default(autoincrement()) @id  
@@ -66,12 +70,15 @@
   Shooting          Shooting            @relation(fields: [shootingId], references: [id])
 }
 model Bookmark {
-  userId            Int                 @id
+  createdAt              DateTime?               @default(now())
+
+  userId            Int
   shootingId        Int                 
   User              User                @relation(fields: [userId], references: [id])
   Shooting          Shooting            @relation(fields: [shootingId], references: [id])
+  @@id([userId, shootingId])
 }
 enum Profile_authType {
   email
```


